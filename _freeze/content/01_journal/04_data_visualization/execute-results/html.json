{
  "hash": "cffe3729a03c60c2bfd041472c2fef5c",
  "result": {
    "markdown": "---\ntitle: \"Data Visualization\"\nauthor: \"Preethi Aranala\"\n---\n\n\n# Libraries\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-1_962d7f5221bc83d229c4c4e802e71838'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(lubridate)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(readr)\n```\n:::\n\n\n# Importing Data from Web\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-2_065739a93bf503353d9bb8564ccb8648'}\n\n```{.r .cell-code}\ncovid_data_tbl <- read_csv(\"https://covid.ourworldindata.org/data/owid-covid-data.csv\")\ncovid_refined_tbl <- covid_data_tbl %>%\n  filter(location %in% c(\"Germany\",\"France\",\"Spain\",\"United States\",\"United Kingdom\")) %>%\n  select(location, date, total_cases, total_deaths)\n```\n:::\n\n\n# Challenge 1\n\n## Data Manipulation\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-3_14e04b89623377aac9d067d30d72c7d1'}\n\n```{.r .cell-code}\ncovid_refined_tbl$date <- as.Date(covid_refined_tbl$date)\ncovid_refined_tbl <- covid_refined_tbl %>%\n  na.omit() %>%\n  mutate(month = floor_date(date, unit = \"month\"),\n         day = day(date)) %>% \n  group_by(month) %>%\n  filter(day == max(day))\n\nmillion <- function(x) {\n  paste0(x / 1000000, \"M\")\n}\n```\n:::\n\n\n## Data Visualization\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-4_e6352b48086e762478ba4f0056a44ec9'}\n\n```{.r .cell-code}\nggplot(covid_refined_tbl, aes(x = month, y = total_cases, color = location)) +\n  geom_line() +\n  labs(x = \"Month\", y = \"Cumulative Cases\", color = \"Country\") +\n  scale_x_date(date_breaks = \"1 month\", date_labels = \"%Y-%m\") +\n  scale_y_continuous(labels = million) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 12)) +\n  labs(title = \"COVID-19 confirmed cases worldwide\")\n```\n:::\n\n[![Plot showing cumulative cases of COVID-19 worldwide from December 2019 to May 2023](/content/04_web_images/04_01.jpeg)](https://quarto.org)\n\n# Challenge 2\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-5_4611a57667add5d9b033d6a3a05086dd'}\n\n```{.r .cell-code}\nlibrary(maps)\n\nworld <- map_data(\"world\") \n```\n:::\n\n\n## Data Manipulation\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-6_a874e6524b1e91ad3822616daf1e1df3'}\n\n```{.r .cell-code}\ncovid_geo_tbl <- covid_data_tbl %>%\n  select(location, date, total_cases, total_deaths)\n\ncovid_geo_tbl$date <- as.Date(covid_geo_tbl$date)\ncovid_geo_tbl <- covid_geo_tbl %>%\n  mutate(month = floor_date(date, unit = \"month\"),\n         day = day(date)) %>% \n  group_by(month) %>%\n  arrange(desc(date)) %>%\n  na.omit() %>%\n  filter(date == \"2023-05-17\") %>%\n  mutate(case_fatality = total_deaths * 100/total_cases)\n\n\ncovid_geo_tbl$month <- NULL\ncovid_geo_tbl$day <- NULL\n\nworld_united <- covid_geo_tbl %>%\n  left_join(world, by = c(\"location\" = \"region\"), relationship = \"many-to-many\") %>%\n  mutate(location = case_when(\n    location == \"United Kingdom\" ~ \"UK\",\n    location == \"United States\" ~ \"USA\",\n    location == \"Democratic Republic of Congo\" ~ \"Democratic Republic of the Congo\",\n    TRUE ~ location\n  )) %>%\n  distinct()\n```\n:::\n\n\n## Data Visualization\n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-7_64b560803e2f018bbee55d75da4dd678'}\n\n```{.r .cell-code}\nggplot(world_united, aes(x = long, y = lat, map_id = location, fill = case_fatality)) +\n  geom_map(map = world, aes(fill = case_fatality, map_id = location, x = long, y = lat), color = \"black\") +\n  scale_fill_gradient(low = \"orange\", high = \"red\", na.value = \"gray\", name = \"Case Fatality Percent\") +\n  labs(title = \"Case Fatality Map\",\n       subtitle = \"as of 2023-05-17\") +\n  theme(axis.text = element_blank(),\n        axis.title = element_blank())\n```\n:::\n\n[![Plot showing case fatality percentage of countries throughout the world as of 17-05-2023](/content/04_web_images/04_02.jpeg)](https://quarto.org)",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}